<!doctype html>
<html>
  <head>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-1QD88MYKWG"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-1QD88MYKWG");
    </script>
    <meta charset="utf-8" />
    <title>BodhaPlay संस्कृतम् competition 2026</title>
    <script
      type="text/javascript"
      src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://unpkg.com/papaparse@latest/papaparse.min.js"
    ></script>
    <script type="text/javascript" src="js/tabletop1.3.4.js"></script>
    <script type="text/javascript" src="js/sheetsee.js"></script>
    <script type="text/javascript" src="js/table.js"></script>
    <script type="text/javascript" src="js/leaflet.markercluster.js"></script>
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <!-- Header CSS -->
    <link rel="stylesheet" href="css/header.css" />
  </head>
  <body>
    <!-- Header Placeholder -->
    <div id="header-placeholder"></div>
    <!-- Auth Middleware-->
    <script type="module" src="../auth/api/middleware.js"></script>
    <!-- Bilingual toggle for game/competition pages -->
    <script type="module" src="../js/bilingual-toggle.js"></script>

    <!-- Load Header -->
    <script src="js/load-header.js"></script>

    <!-- <img src="bp26c.png" style="float: left" width="5%" /> -->
    <h1>
      vishwa <span style="color: Tomato">संस्कृतम् </span
      ><a href="http://bodhaplay.samskritabharatiusa.org/sy26" target="bp26"
        >Competition 2026</a
      >
    </h1>
    <h3>email - bodhaplay@sbusa.org</h3>
    <a class="mantra" href="d3.png" style="float: left" target="mantra"
      >ध्येय-मन्त्रः dhyeya-mantraH</a
    >
    <a class="mantra" style="float: right" href="s.png" target="mantra"
      >शान्ति-मन्त्रः shaanti-mantraH</a
    >
    <div id="calendar-goes-here"></div>
    <script type="text/javascript">
      document.addEventListener("DOMContentLoaded", function () {
        var lnk =
          "https://docs.google.com/spreadsheets/d/e/2PACX-1vTqqR7xR-WyJbpQQNwicbH7vEDwRv9cQ3UBlg_MRoaKLwkjqxBR1eVO9CR6AMYKaXEYLwZVO6TEyxSZ/pub?gid=0&single=true&output=csv";
        Papa.parse(lnk, {
          download: true,
          header: true,
          complete: generateCalendar,
        });
      });
    </script>
    <script>
      $(document).ready(function () {
        $("h2").css("display", "block");
        $("table").css("display", "table");
        $("#cal-controls").css("display", "none");
      });

      // Add Sanskrit day names to mobile view
      function addDayNames() {
        if (window.innerWidth <= 768) {
          // Sanskrit day names matching the header order
          const dayNames = [
            "सोमवासरः", // Monday (Mon)
            "मङ्गलवासरः", // Tuesday (Tue)
            "बुधवासरः", // Wednesday (Wed)
            "गुरुवासरः", // Thursday (Thu)
            "शुक्रवासरः", // Friday (Fri)
            "शनिवासरः", // Saturday (Sat)
            "रविवासरः", // Sunday (Sun)
          ];

          const rows = document.querySelectorAll(".days");

          rows.forEach((row) => {
            const cells = row.querySelectorAll("td");
            cells.forEach((cell, index) => {
              const dayNumber = cell.querySelector(".day");
              if (dayNumber && dayNumber.textContent.trim()) {
                const sanskritDay = dayNames[index % 7];
                const date = dayNumber.textContent.trim();
                cell.setAttribute("data-day-name", `${sanskritDay} - ${date}`);
              }
            });
          });
        }
      }

      // Run on load and resize
      window.addEventListener("load", addDayNames);
      window.addEventListener("resize", addDayNames);
    </script>
  </body>
</html>
