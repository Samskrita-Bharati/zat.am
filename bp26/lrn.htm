<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>शब्दकोशः</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background: #f4f4f4;
        margin: 0;
        padding: 20px;
    }
    h1 {
        text-align: center;
        margin-bottom: 20px;
    }
    .grid {
 width: 80vw;
    height: 80vh;

    /* Center the grid in the page */
    margin: auto;

    /* Optional: scroll if content overflows vertically */
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 15px;
    }
    .card {
        background: white;
        padding: 15px;
        border-radius: 8px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        transition: transform 0.2s;
    }
    .card:hover {
        transform: scale(1.03);
    }
    .word {
        font-size: 1.2em;
        font-weight: bold;
        margin-bottom: 8px;
        color: #333;
    }
    .definition {
        font-size: 0.95em;
        color: #555;
    }
</style>
<script src="https://cdn.jsdelivr.net/npm/@sanskrit-coders/sanscript@1.1.0/sanscript.min.js"></script>
<script type="text/javascript" src="https://unpkg.com/papaparse@latest/papaparse.min.js"></script>
</head>
<body>

<h1>शब्दकोशः</h1>
<div class="grid" id="dictionaryGrid"></div>

<script>
var wpp=15; //words per page
var tlang=[];
tlang[1]="itrans";
tlang['gu']="gujarati";
tlang['ka']="kannada";
tlang['be']="bengali";
tlang['ml']="malayalam";
tlang['te']="telugu";
tlang['ta']="tamil";
document.addEventListener('DOMContentLoaded', function() {
	  var lnk = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQ6CFR_0gDsZl-lmwLFWmtdXMXYGVEHGJ8fvBu2_5wvbEl9L-4Yr0ugI0TFTTdvtLlMTRmLnCIJ5FBF/pub?gid=0&single=true&output=csv";
	  Papa.parse(lnk, {
          download: true,
          header: true,
          complete: populateWlist
		  })
    })
    function populateWlist(fildat)
    {
       fullist=fildat.data;
var secs=0;
var numberOfWrongTries=0;
matchesdone=0;
var timer;
triesElement=document.getElementById("nowt");
const urlParams = new URLSearchParams(window.location.search);
var set = urlParams.get('s');
if (!set || isNaN(set) || (set>=fullist.length))
	set=0;
var t = urlParams.get('t'); // transliterate mode - 1 is true
if (!t)
	t=0;
var image = [];
var words=[];
 
         for (i=0;i<wpp;i++)
            {
                words.push(fullist[(set*wpp)+i].padam);
                image.push(fullist[(set*wpp)+i]["Imaage link"])
            }

const grid = document.getElementById("dictionaryGrid");

// Create card for each word
async function createDictionary() {
    for (const [i, word] of words.entries()) {
 var lnk=image[`${i}`];
if (lnk.length ==4 || lnk.length ==5) 
  lnk = "https://openmoji.org/data/color/svg/"+lnk+".svg";
var wrdtxt = `${word}`
if (t!=0 && tlang[t])
 wrdtxt += " - " + Sanscript.t(`${word}`, 'devanagari',tlang[t]);

        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `<center>
            <div class="word">${wrdtxt}</div>
            <div class="definition"><img style="max-width: 150px;"  src=${lnk}></div>
        </center>`;
        grid.appendChild(card);
    }
}

createDictionary();
}
</script>

</body>
</html>
