<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡§∂‡§¨‡•ç‡§¶‡§æ‡§µ‡§≤‡•Ä </title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f4f4f4;
            margin: 0;
            padding: 20px;
        }
        h1 {
            text-align: center;
            margin-bottom: 20px;
        }
        .grid {
            width: 80vw;
            height: 80vh;

            /* Center the grid in the page */
            margin: auto;

            /* Optional: scroll if content overflows vertically */
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }

        .card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s;
        }

        .card:hover {
            transform: scale(1.03);
        }

        .word {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 8px;
            color: #333;
        }

        .definition {
            font-size: 0.95em;
            color: #555;
        }

@media print {
.k
{
border-left:4px ridge green;
}
.p
{
border-left:3px groove blue;
}
.s
{
border-left:3px groove red;
}
.n
{
border-left:3px groove black;
}

button {
display: none !important;
}
}
    </style>
    <script src="https://cdn.jsdelivr.net/npm/@sanskrit-coders/sanscript@1.1.0/sanscript.min.js"></script>
    <script type="text/javascript" src="https://unpkg.com/papaparse@latest/papaparse.min.js"></script>
</head>
<body>
    <h1>‡§∂‡§¨‡•ç‡§¶‡§æ‡§µ‡§≤‡•Ä</h1>
    <div class="grid" id="dictionaryGrid"></div>
    <script>
        var wpp = 15; //words per page
        var tlang = [];
        tlang[1] = "itrans";
        tlang['gu'] = "gujarati";
        tlang['ka'] = "kannada";
        tlang['be'] = "bengali";
        tlang['ml'] = "malayalam";
        tlang['te'] = "telugu";
        tlang['ta'] = "tamil";
        tlang['ia'] = "iast";

        document.addEventListener('DOMContentLoaded', function () {
            var lnk = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQ6CFR_0gDsZl-lmwLFWmtdXMXYGVEHGJ8fvBu2_5wvbEl9L-4Yr0ugI0TFTTdvtLlMTRmLnCIJ5FBF/pub?gid=0&single=true&output=csv";
            Papa.parse(lnk, {
                download: true,
                header: true,
                complete: populateWlist
            })
        })
        function populateWlist(fildat) {
            fullist = fildat.data;
            var secs = 0;
            var numberOfWrongTries = 0;
            matchesdone = 0;
            var timer;
            triesElement = document.getElementById("nowt");
            const urlParams = new URLSearchParams(window.location.search);
            var set = urlParams.get('s');
            if (!set || isNaN(set) || (set >= fullist.length))
                set = 0;
            var t = urlParams.get('t'); // transliterate mode - 1 is true
            if (!t)
{
                t = 0;
}
if (!tlang[t])
document.getElementsByTagName("h1")[0].innerHTML += " " + Sanscript.t(`${set}`, 'itrans', 'devanagari');
else
document.getElementsByTagName("h1")[0].innerHTML += " " + Sanscript.t(`${set}`, 'itrans', tlang[t]);
var imgm = urlParams.get('m');
            if (!imgm)
                imgm = "b";
            var image = [];
            var words = [];
            var uc=[];
            var aud = [];
var linga=[];
            for (i = 0; i < wpp; i++) {
                words.push(fullist[(set * wpp) + i].padam);
		uc.push(fullist[(set * wpp) + i].unicode);
                image.push(fullist[(set * wpp) + i]["Imaage link"])
                aud.push(fullist[(set * wpp) + i]["alnk"])
linga.push(fullist[(set * wpp) + i]["linga"])
            }
            while (!words[words.length - 1]) {
                words.pop();
            }
            while (!image[image.length - 1]) {
                image.pop();
            }
            const grid = document.getElementById("dictionaryGrid");

            // Create card for each word
            async function createDictionary() {
                for (const [i, word] of words.entries()) {
var txtimg='';
                    var alnk = aud[`${i}`];
                    var lnk = uc[`${i}`];
                    // if (lnk.length == 4 || lnk.length == 5)
			//lnk= String.fromCodePoint(parseInt(lnk, 16));
                        // lnk = "https://openmoji.org/data/color/svg/" + lnk + ".svg";
                    var wrdtxt = `${word}`
                    if (t != 0 && tlang[t])
                        wrdtxt += " - " + Sanscript.t(`${word}`, 'devanagari', tlang[t]);

                    const card = document.createElement("div");

                    card.className = "card";
              card.classList.add(linga[`${i}`]);
if (lnk && lnk.length <12)
{
  if (imgm=="u")
    txtimg ='<span style="font-size: 120px; line-height:150px;">'+ String.fromCodePoint(parseInt(lnk, 16))+'</span>'
  else if (imgm == "e")
    txtimg = '<img style="max-width: 150px;"  src="https://openmoji.org/data/color/svg/'+lnk+'.svg">'
else
  txtimg = '<img style="max-width: 150px;"  src="'+image[`${i}`]+'">'
}
else
  txtimg = '<img style="max-width: 150px;"  src="'+image[`${i}`]+'">'
card.innerHTML = `<center><div class="word">${wrdtxt}</div>
<div class="definition">${txtimg}</div><audio id=a${i} src=${alnk} ></audio>
<button id=${i} onclick="for (i=0;i<wpp;i++) musicelements[i].pause();musicelements[this.id].play()";>
    <!-- Use a speaker icon here (e.g., a Font Awesome icon or an image) -->
    üîä
</button>
        </center>`;
                    grid.appendChild(card);
                }
            }
            createDictionary();
            musicelements = document.getElementsByTagName("audio");
        }
    </script>
</body>
</html>