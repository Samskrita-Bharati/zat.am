import{G as l,c as h,d as i,b as o,g as c,e as g,f as m,a as e,h as w,i as f,o as p,E as P,r as y,j as A,s as U,k as E}from"./firebase-config-BpSi-wPl.js";const W=new l,b=async(s,a)=>await w(e,s,a),C=async(s,a)=>await h(e,s,a),G=async()=>await U(e),I=()=>new Promise((s,a)=>{p(e,t=>{t?s(t):a(null)})}),k=async(s,a)=>await f(s,a),R=async()=>{const s=await m(e,W);return await v(s.user),s},v=async(s,a={})=>{if(!s)return;const t=i(o,"users",s.uid);if((await c(t)).exists())return;const{displayName:u,email:d}=s,{isAdmin:x,...r}=a||{};await g(t,{email:d||"",name:u||r.name||"",isAdmin:!1,createdAt:E(),...r})},j=async()=>{const s=e.currentUser;if(!s)return null;const a=i(o,"users",s.uid),t=await c(a);return t.exists()?{id:t.id,...t.data()}:null},N=async(s,a)=>{const t=e.currentUser,n=P.credential(t.email,s);return await y(t,n),await A(t,a)};export{b as a,N as b,I as c,G as d,v as e,j as g,C as l,R as s,k as u};
